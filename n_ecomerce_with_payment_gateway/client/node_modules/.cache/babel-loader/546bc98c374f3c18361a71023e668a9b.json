{"ast":null,"code":"var _jsxFileName = \"/home/rajnishyadav/Downloads/React/n_ecomerce_with_payment_gateway/client/src/components/Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { decNum, deleteCartData, increaseQty, decreaseQty } from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n\n  const myState = useSelector(state => state);\n  const dispatch = useDispatch();\n  const [amount, setAmount] = useState(0);\n\n  async function handleCheckout() {\n    let qty = myState.cartData.rj.map(d => d.qty);\n    let price = myState.cartData.rj.map(d => d.price);\n    let totalPriceOfEachItem = [];\n\n    for (let i = 0; i < qty.length; i++) {\n      totalPriceOfEachItem[i] = qty[i] * price[i];\n    }\n\n    let total = 0;\n\n    for (let i = 0; i < totalPriceOfEachItem.length; i++) {\n      total = total + totalPriceOfEachItem[i];\n    }\n\n    total = Math.floor(total);\n    await setAmount(total);\n  }\n\n  useEffect(() => {\n    handleCheckout(); // eslint-disable-next-line\n  }, [myState]);\n\n  const checkoutHandler = async () => {\n    try {\n      const {\n        data: {\n          key\n        }\n      } = await axios.get(\"http://localhost:4000/api/getkey\");\n      const {\n        data: {\n          order\n        }\n      } = await axios.post(\"http://localhost:4000/api/checkout\", {\n        amount\n      });\n      const options = {\n        key,\n        // Enter the Key ID generated from the Dashboard\n        amount: order.amount,\n        // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n        currency: \"INR\",\n        name: \"Frost Software Private Ltd.\",\n        description: \"Test Transaction\",\n        image: \"https://avatars.githubusercontent.com/u/89183490?s=400&u=23842d1ac14138d25e8771096739851360f54243&v=4\",\n        order_id: order.id,\n        //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n        callback_url: \"http://localhost:4000/api/paymentVerification\",\n        prefill: {\n          name: \"Gaurav Kumar\",\n          email: \"gaurav.kumar@example.com\",\n          contact: \"9999999999\"\n        },\n        notes: {\n          address: \"Razorpay Corporate Office\"\n        },\n        theme: {\n          color: \"#121212\"\n        }\n      };\n      const razor = new window.Razorpay(options);\n      razor.open();\n    } catch (err) {\n      return Navigate(\"/servernotres\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"100%\",\n      width: \"94%\"\n    },\n    children: [myState.cartData.rj.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"No Items In Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : myState.cartData.rj.map((d, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"3%\",\n          marginTop: \"1%\",\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: d.image,\n          alt: \"noImage\",\n          style: {\n            height: \"500px\",\n            width: \"500px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"20%\",\n            marginLeft: \"30%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              marginTop: \"5%\"\n            },\n            children: d.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: d.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Category : \", d.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Price \\u20B9\", d.price, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              flexDirection: \"row\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => dispatch(decreaseQty(d)),\n              style: {\n                height: \"30px\",\n                width: \"30px\"\n              },\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                marginTop: \"-0.2%\",\n                marginLeft: \"1%\",\n                marginRight: \"1%\"\n              },\n              children: d.qty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => dispatch(increaseQty(d)),\n              style: {\n                height: \"30px\",\n                width: \"30px\"\n              },\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total Item Cost = \\u20B9\", d.price * d.qty]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              dispatch(deleteCartData(d.id));\n              dispatch(decNum());\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"Total = \\u20B9 \", amount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: checkoutHandler,\n      style: {\n        height: \"20px\",\n        width: \"80px\",\n        display: \"block\",\n        margin: \"auto\",\n        border: \"none\",\n        backgroundColor: \"green\",\n        color: \"white\",\n        borderRadius: \"10px\"\n      },\n      children: \"Check Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cart, \"YxTdoubk58zBNyem3oQGmeaNhXQ=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","decNum","deleteCartData","increaseQty","decreaseQty","axios","Navigate","Cart","myState","state","dispatch","amount","setAmount","handleCheckout","qty","cartData","rj","map","d","price","totalPriceOfEachItem","i","length","total","Math","floor","checkoutHandler","data","key","get","order","post","options","currency","name","description","image","order_id","id","callback_url","prefill","email","contact","notes","address","theme","color","razor","window","Razorpay","open","err","height","width","textAlign","marginLeft","marginTop","display","title","category","flexDirection","marginRight","margin","border","backgroundColor","borderRadius"],"sources":["/home/rajnishyadav/Downloads/React/n_ecomerce_with_payment_gateway/client/src/components/Cart.jsx"],"sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  decNum,\n  deleteCartData,\n  increaseQty,\n  decreaseQty,\n} from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport { Navigate } from \"react-router-dom\";\n\nexport default function Cart() {\n  const myState = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const [amount, setAmount] = useState(0);\n\n  async function handleCheckout() {\n    let qty = myState.cartData.rj.map((d) => d.qty);\n    let price = myState.cartData.rj.map((d) => d.price);\n    let totalPriceOfEachItem = [];\n    for (let i = 0; i < qty.length; i++) {\n      totalPriceOfEachItem[i] = qty[i] * price[i];\n    }\n    let total = 0;\n    for (let i = 0; i < totalPriceOfEachItem.length; i++) {\n      total = total + totalPriceOfEachItem[i];\n    }\n    total = Math.floor(total);\n    await setAmount(total);\n  }\n\n  useEffect(() => {\n    handleCheckout();\n    // eslint-disable-next-line\n  }, [myState]);\n\n  const checkoutHandler = async () => {\n    try {\n      const {\n        data: { key },\n      } = await axios.get(\"http://localhost:4000/api/getkey\");\n\n      const {\n        data: { order },\n      } = await axios.post(\"http://localhost:4000/api/checkout\", { amount });\n\n      const options = {\n        key, // Enter the Key ID generated from the Dashboard\n        amount: order.amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n        currency: \"INR\",\n        name: \"Frost Software Private Ltd.\",\n        description: \"Test Transaction\",\n        image:\n          \"https://avatars.githubusercontent.com/u/89183490?s=400&u=23842d1ac14138d25e8771096739851360f54243&v=4\",\n        order_id: order.id, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n        callback_url: \"http://localhost:4000/api/paymentVerification\",\n        prefill: {\n          name: \"Gaurav Kumar\",\n          email: \"gaurav.kumar@example.com\",\n          contact: \"9999999999\",\n        },\n        notes: {\n          address: \"Razorpay Corporate Office\",\n        },\n        theme: {\n          color: \"#121212\",\n        },\n      };\n      const razor = new window.Razorpay(options);\n      razor.open();\n    } catch (err) {\n      return Navigate(\"/servernotres\");\n    }\n  };\n\n  return (\n    <div style={{ height: \"100%\", width: \"94%\" }}>\n      {myState.cartData.rj.length === 0 ? (\n        <h1 style={{ textAlign: \"center\" }}>No Items In Cart</h1>\n      ) : (\n        myState.cartData.rj.map((d, i) => {\n          return (\n            <div\n              key={i}\n              style={{ marginLeft: \"3%\", marginTop: \"1%\", display: \"flex\" }}\n            >\n              <img\n                src={d.image}\n                alt=\"noImage\"\n                style={{ height: \"500px\", width: \"500px\" }}\n              />\n              <div style={{ width: \"20%\", marginLeft: \"30%\" }}>\n                <h1 style={{ marginTop: \"5%\" }}>{d.title}</h1>\n                <p>{d.description}</p>\n                <p>Category : {d.category}</p>\n                <p>Price ₹{d.price} </p>\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <button\n                    onClick={() => dispatch(decreaseQty(d))}\n                    style={{ height: \"30px\", width: \"30px\" }}\n                  >\n                    -\n                  </button>\n                  <h2\n                    style={{\n                      marginTop: \"-0.2%\",\n                      marginLeft: \"1%\",\n                      marginRight: \"1%\",\n                    }}\n                  >\n                    {d.qty}\n                  </h2>\n                  <button\n                    onClick={() => dispatch(increaseQty(d))}\n                    style={{ height: \"30px\", width: \"30px\" }}\n                  >\n                    +\n                  </button>\n                </div>\n                <p>Total Item Cost = ₹{d.price * d.qty}</p>\n                <button\n                  onClick={() => {\n                    dispatch(deleteCartData(d.id));\n                    dispatch(decNum());\n                  }}\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          );\n        })\n      )}\n      <h1 style={{ textAlign: \"center\" }}>Total = ₹ {amount}</h1>\n      <button\n        onClick={checkoutHandler}\n        style={{\n          height: \"20px\",\n          width: \"80px\",\n          display: \"block\",\n          margin: \"auto\",\n          border: \"none\",\n          backgroundColor: \"green\",\n          color: \"white\",\n          borderRadius: \"10px\",\n        }}\n      >\n        Check Out\n      </button>\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACEC,MADF,EAEEC,cAFF,EAGEC,WAHF,EAIEC,WAJF,QAKO,wBALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,eAAe,SAASC,IAAT,GAAgB;EAAA;;EAC7B,MAAMC,OAAO,GAAGT,WAAW,CAAEU,KAAD,IAAWA,KAAZ,CAA3B;EACA,MAAMC,QAAQ,GAAGV,WAAW,EAA5B;EACA,MAAM,CAACW,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,CAAD,CAApC;;EAEA,eAAegB,cAAf,GAAgC;IAC9B,IAAIC,GAAG,GAAGN,OAAO,CAACO,QAAR,CAAiBC,EAAjB,CAAoBC,GAApB,CAAyBC,CAAD,IAAOA,CAAC,CAACJ,GAAjC,CAAV;IACA,IAAIK,KAAK,GAAGX,OAAO,CAACO,QAAR,CAAiBC,EAAjB,CAAoBC,GAApB,CAAyBC,CAAD,IAAOA,CAAC,CAACC,KAAjC,CAAZ;IACA,IAAIC,oBAAoB,GAAG,EAA3B;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,GAAG,CAACQ,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;MACnCD,oBAAoB,CAACC,CAAD,CAApB,GAA0BP,GAAG,CAACO,CAAD,CAAH,GAASF,KAAK,CAACE,CAAD,CAAxC;IACD;;IACD,IAAIE,KAAK,GAAG,CAAZ;;IACA,KAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,oBAAoB,CAACE,MAAzC,EAAiDD,CAAC,EAAlD,EAAsD;MACpDE,KAAK,GAAGA,KAAK,GAAGH,oBAAoB,CAACC,CAAD,CAApC;IACD;;IACDE,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWF,KAAX,CAAR;IACA,MAAMX,SAAS,CAACW,KAAD,CAAf;EACD;;EAEDzB,SAAS,CAAC,MAAM;IACde,cAAc,GADA,CAEd;EACD,CAHQ,EAGN,CAACL,OAAD,CAHM,CAAT;;EAKA,MAAMkB,eAAe,GAAG,YAAY;IAClC,IAAI;MACF,MAAM;QACJC,IAAI,EAAE;UAAEC;QAAF;MADF,IAEF,MAAMvB,KAAK,CAACwB,GAAN,CAAU,kCAAV,CAFV;MAIA,MAAM;QACJF,IAAI,EAAE;UAAEG;QAAF;MADF,IAEF,MAAMzB,KAAK,CAAC0B,IAAN,CAAW,oCAAX,EAAiD;QAAEpB;MAAF,CAAjD,CAFV;MAIA,MAAMqB,OAAO,GAAG;QACdJ,GADc;QACT;QACLjB,MAAM,EAAEmB,KAAK,CAACnB,MAFA;QAEQ;QACtBsB,QAAQ,EAAE,KAHI;QAIdC,IAAI,EAAE,6BAJQ;QAKdC,WAAW,EAAE,kBALC;QAMdC,KAAK,EACH,uGAPY;QAQdC,QAAQ,EAAEP,KAAK,CAACQ,EARF;QAQM;QACpBC,YAAY,EAAE,+CATA;QAUdC,OAAO,EAAE;UACPN,IAAI,EAAE,cADC;UAEPO,KAAK,EAAE,0BAFA;UAGPC,OAAO,EAAE;QAHF,CAVK;QAedC,KAAK,EAAE;UACLC,OAAO,EAAE;QADJ,CAfO;QAkBdC,KAAK,EAAE;UACLC,KAAK,EAAE;QADF;MAlBO,CAAhB;MAsBA,MAAMC,KAAK,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBjB,OAApB,CAAd;MACAe,KAAK,CAACG,IAAN;IACD,CAjCD,CAiCE,OAAOC,GAAP,EAAY;MACZ,OAAO7C,QAAQ,CAAC,eAAD,CAAf;IACD;EACF,CArCD;;EAuCA,oBACE;IAAK,KAAK,EAAE;MAAE8C,MAAM,EAAE,MAAV;MAAkBC,KAAK,EAAE;IAAzB,CAAZ;IAAA,WACG7C,OAAO,CAACO,QAAR,CAAiBC,EAAjB,CAAoBM,MAApB,KAA+B,CAA/B,gBACC;MAAI,KAAK,EAAE;QAAEgC,SAAS,EAAE;MAAb,CAAX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,GAGC9C,OAAO,CAACO,QAAR,CAAiBC,EAAjB,CAAoBC,GAApB,CAAwB,CAACC,CAAD,EAAIG,CAAJ,KAAU;MAChC,oBACE;QAEE,KAAK,EAAE;UAAEkC,UAAU,EAAE,IAAd;UAAoBC,SAAS,EAAE,IAA/B;UAAqCC,OAAO,EAAE;QAA9C,CAFT;QAAA,wBAIE;UACE,GAAG,EAAEvC,CAAC,CAACkB,KADT;UAEE,GAAG,EAAC,SAFN;UAGE,KAAK,EAAE;YAAEgB,MAAM,EAAE,OAAV;YAAmBC,KAAK,EAAE;UAA1B;QAHT;UAAA;UAAA;UAAA;QAAA,QAJF,eASE;UAAK,KAAK,EAAE;YAAEA,KAAK,EAAE,KAAT;YAAgBE,UAAU,EAAE;UAA5B,CAAZ;UAAA,wBACE;YAAI,KAAK,EAAE;cAAEC,SAAS,EAAE;YAAb,CAAX;YAAA,UAAiCtC,CAAC,CAACwC;UAAnC;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAA,UAAIxC,CAAC,CAACiB;UAAN;YAAA;YAAA;YAAA;UAAA,QAFF,eAGE;YAAA,0BAAejB,CAAC,CAACyC,QAAjB;UAAA;YAAA;YAAA;YAAA;UAAA,QAHF,eAIE;YAAA,2BAAWzC,CAAC,CAACC,KAAb;UAAA;YAAA;YAAA;YAAA;UAAA,QAJF,eAKE;YAAK,KAAK,EAAE;cAAEsC,OAAO,EAAE,MAAX;cAAmBG,aAAa,EAAE;YAAlC,CAAZ;YAAA,wBACE;cACE,OAAO,EAAE,MAAMlD,QAAQ,CAACN,WAAW,CAACc,CAAD,CAAZ,CADzB;cAEE,KAAK,EAAE;gBAAEkC,MAAM,EAAE,MAAV;gBAAkBC,KAAK,EAAE;cAAzB,CAFT;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,eAOE;cACE,KAAK,EAAE;gBACLG,SAAS,EAAE,OADN;gBAELD,UAAU,EAAE,IAFP;gBAGLM,WAAW,EAAE;cAHR,CADT;cAAA,UAOG3C,CAAC,CAACJ;YAPL;cAAA;cAAA;cAAA;YAAA,QAPF,eAgBE;cACE,OAAO,EAAE,MAAMJ,QAAQ,CAACP,WAAW,CAACe,CAAD,CAAZ,CADzB;cAEE,KAAK,EAAE;gBAAEkC,MAAM,EAAE,MAAV;gBAAkBC,KAAK,EAAE;cAAzB,CAFT;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAhBF;UAAA;YAAA;YAAA;YAAA;UAAA,QALF,eA4BE;YAAA,uCAAuBnC,CAAC,CAACC,KAAF,GAAUD,CAAC,CAACJ,GAAnC;UAAA;YAAA;YAAA;YAAA;UAAA,QA5BF,eA6BE;YACE,OAAO,EAAE,MAAM;cACbJ,QAAQ,CAACR,cAAc,CAACgB,CAAC,CAACoB,EAAH,CAAf,CAAR;cACA5B,QAAQ,CAACT,MAAM,EAAP,CAAR;YACD,CAJH;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QA7BF;QAAA;UAAA;UAAA;UAAA;QAAA,QATF;MAAA,GACOoB,CADP;QAAA;QAAA;QAAA;MAAA,QADF;IAkDD,CAnDD,CAJJ,eAyDE;MAAI,KAAK,EAAE;QAAEiC,SAAS,EAAE;MAAb,CAAX;MAAA,8BAA+C3C,MAA/C;IAAA;MAAA;MAAA;MAAA;IAAA,QAzDF,eA0DE;MACE,OAAO,EAAEe,eADX;MAEE,KAAK,EAAE;QACL0B,MAAM,EAAE,MADH;QAELC,KAAK,EAAE,MAFF;QAGLI,OAAO,EAAE,OAHJ;QAILK,MAAM,EAAE,MAJH;QAKLC,MAAM,EAAE,MALH;QAMLC,eAAe,EAAE,OANZ;QAOLlB,KAAK,EAAE,OAPF;QAQLmB,YAAY,EAAE;MART,CAFT;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA1DF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA4ED;;GA5IuB1D,I;UACNR,W,EACCC,W;;;KAFKO,I"},"metadata":{},"sourceType":"module"}